notify_mobile:
  alias: Send a notification to the mobile devices
  fields:
    title:
      description: Title of the notification
      example: This is a title!
    message:
      description: The body text of the notification
      example: This is a message!
    sound:
      description: The name of the sound
      example: default
  sequence:
  - service: notify.mobile_app_yannicks_iphone
    data_template:
      title: '{{ title }}'
      message: '{{ message }}'
      data:
        push:
          sound: joi.wav

turn_on_heating:
  alias: Turn the heating on for a given climate
  fields:
    climate:
      description: The climate
      example: climate.kitchen
  sequence:
  - service: climate.set_temperature
    data_template:
      entity_id: '{{ climate }}'
      temperature: '{{ states(''input_number.heating_on'') | float }}'

turn_off_heating:
  alias: Turn the heating off for a given climate
  fields:
    climate:
      description: The climate
      example: climate.kitchen
  sequence:
  - service: climate.set_temperature
    data_template:
      entity_id: '{{ climate }}'
      temperature: '{{ states(''input_number.heating_standby'') | float }}'

downstairs_cosy:
  alias: downstairs_cosy
  sequence:
  - service: scene.turn_on
    entity_id: scene.downstairs_cosy
  - service: input_boolean.turn_off
    entity_id: input_boolean.kitchen_motion_on
  - service: climate.set_temperature
    entity_id: climate.keuken
    data:
      temperature: 22
  - service: climate.set_temperature
    entity_id: climate.woonkamer
    data:
      temperature: 22

downstairs_music:
  alias: downstairs_music
  sequence:
  - service: media_player.volume_set
    entity_id: media_player.living
    data:
      volume_level: 0.07
  - service: media_player.select_source
    entity_id: media_player.living
    data:
      source: Home Alternative
  - service: media_player.shuffle_set
    entity_id: media_player.living
    data:
      shuffle: true

clean_around_litterbox:
  alias: Clean around the litterbox
  sequence:
  - condition: state
    entity_id: input_boolean.do_not_disturb
    state: 'off'
  - condition: state
    entity_id: vacuum.portia
    state: 'docked'
  - service: vacuum.set_fan_speed
    data:
      entity_id: vacuum.portia
      fan_speed: Silent
  - service: xiaomi_miio.vacuum_clean_zone
    data:
      entity_id: vacuum.portia
      zone: [[23500,29400,24500,28400]]
      repeats: 1
  
clean_kitchen_aisle:
  alias: Clean the kitchen aisle
  sequence:
  - condition: state
    entity_id: input_boolean.do_not_disturb
    state: 'off'
  - condition: state
    entity_id: vacuum.portia
    state: 'docked'
  - service: vacuum.set_fan_speed
    data:
      entity_id: vacuum.portia
      fan_speed: Silent
  - service: xiaomi_miio.vacuum_clean_zone
    data:
      entity_id: vacuum.portia
      zone: [[23500,29400,24500,28400], [22500,30000,28800,29400]]
      repeats: 1

turn_everything_off:
  alias: Turn everything off
  sequence:
  - service: light.turn_off
    entity_id: all
  - service: script.turn_off_heating
    data:
      climate: climate.homekit_radiator_living
  - service: script.turn_off_heating
    data:
      climate: climate.homekit_radiator_kitchen
  - service: script.turn_off_heating
    data:
      climate: climate.homekit_radiator_bathroom
  - service: script.turn_off_heating
    data:
      climate: climate.homekit_radiator_bedroom
  - service: input_boolean.turn_on
    entity_id: input_boolean.kitchen_motion_on